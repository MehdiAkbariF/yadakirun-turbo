@use '../../../styles/_variables.scss' as tokens;

.dashboard-sidebar {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: tokens.$spacing-4;

  // --- کانتینر اطلاعات کاربر ---
  &__user-box {
    background-color: tokens.$color-bg-surface;
    border: 1px solid tokens.$color-border-secondary;
    border-radius: tokens.$radius-2xl;
    padding: tokens.$spacing-2;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: tokens.$shadow;

    @media (min-width: tokens.$breakpoint-lg) {
      flex-direction: column;
      align-items: flex-start;
      padding: tokens.$spacing-6;
      margin-bottom: tokens.$spacing-2;
    }
  }

  &__user-info {
    display: flex;
    align-items: center;
    gap: tokens.$spacing-3;

    @media (min-width: tokens.$breakpoint-lg) {
      flex-direction: row;
      width: 100%;
    }
  }

  &__avatar {
    width: 48px;
    height: 48px;
    background: tokens.$color-bg-secondary;
    color: tokens.$color-text-primary;
    border-radius: tokens.$radius-xl;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: tokens.$font-weight-black;
    font-size: tokens.$font-size-xl;
  }

  &__text {
    display: flex;
    flex-direction: column;
  }

  &__welcome {
    display: none; // در موبایل مخفی
    @media (min-width: tokens.$breakpoint-lg) {
      display: block;
    }
  }

  // --- دکمه‌های ناوبری ---
  &__nav {
    display: flex;
    flex-direction: row; // حالت افقی برای موبایل
    gap: tokens.$spacing-1;
    overflow-x: auto; // اسکرول افقی
    
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; // مخفی کردن اسکرول‌بار در فایرفاکس

    &::-webkit-scrollbar {
      display: none; // مخفی کردن اسکرول‌بار در کروم
    }

    @media (min-width: tokens.$breakpoint-lg) {
      flex-direction: column;
      gap: tokens.$spacing-1;
      overflow-x: visible;
      padding: 0;
    }
  }

  &__item {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: tokens.$spacing-1;
    padding: tokens.$spacing-2 tokens.$spacing-3;
    background-color: tokens.$color-bg-surface;
    border: 1px solid tokens.$color-border-secondary;
    border-radius: tokens.$radius-full; // حالت چیپ (Chip) در موبایل
    color: tokens.$color-text-secondary;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    white-space: nowrap; // جلوگیری از شکستن متن در موبایل
    position: relative;

    @media (min-width: tokens.$breakpoint-lg) {
      border: none;
      border-radius: tokens.$radius-xl;
      width: 100%;
      padding: tokens.$spacing-4;
      background-color: transparent;
      
      &:hover {
     
        transform: translateX(-5px); // افکت حرکت به راست در هاور دسکتاپ
      }
    }

    &--active {
      border-color: tokens.$color-brand-primary;
      background-color: tokens.$color-brand-primary;
      color: tokens.$color-text-on-brand;
      box-shadow: 0 4px 12px rgba(var(--color-brand-primary-rgb), 0.2);

      .dashboard-sidebar__icon {
        color: tokens.$color-text-on-brand;
      }

      @media (min-width: tokens.$breakpoint-lg) {
        background-color: rgba(tokens.$color-brand-primary, 0.1);
        color: tokens.$color-brand-primary;
        box-shadow: none;
        
        .dashboard-sidebar__icon {
          color: tokens.$color-brand-primary;
        }
      }
    }
  }

  &__label {
    font-size: tokens.$font-size-sm;
    font-weight: tokens.$font-weight-bold;
  }

  // --- دکمه خروج ---
  &__footer {
    display: none; // در موبایل مخفی
    @media (min-width: tokens.$breakpoint-lg) {
      display: block;
      
      padding-top: tokens.$spacing-1;
      border-top: 1px solid tokens.$color-border-secondary;
    }
  }

  &__logout-btn {
    display: flex;
    align-items: center;
    gap: tokens.$spacing-2;
    width: 100%;
    padding: tokens.$spacing-2;
    background: transparent;
    border: none;
    color: tokens.$color-utility-error;
    cursor: pointer;
    border-radius: tokens.$radius-xl;
    transition: all 0.2s;

    &:hover {
      background-color: rgba(tokens.$color-utility-error, 0.05);
    }
  }

  &__logout-mobile {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: tokens.$radius-lg;
    background-color: rgba(tokens.$color-utility-error, 0.1);
    color: tokens.$color-utility-error;
    border: none;

    @media (min-width: tokens.$breakpoint-lg) {
      display: none;
    }
  }
}